(()=>{function e(e,n){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,n){if(e){if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,s=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw s}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var s=function(){function e(){a(this,e)}return i(e,[{key:"addEvent",value:function(e,t,n,a){return new o(e,t,n,a)}},{key:"updateEvent",value:function(e,t,n,a){var r=allEvents.find((function(n){return n[d("event",e)]==t}));null!=r?r[n]=a:console.log("Updates failed. Event not found.")}},{key:"deleteEvent",value:function(e,t){var n=o.allEvents.findIndex((function(n){return n[d("event",e)]==t}));console.log('Deleting event...\n    Searching for: "'.concat(d("event",e),'"\n    With Value:  ').concat(t,"\n    Event Found at Index: ").concat(n,"\n    Event: ").concat(o.allEvents[n])),-1!==n?(o.allEvents.splice(n,1),o.allEvents.slice(n).forEach((function(e){return e.id--})),o._nextId--):console.log("Deletion failed. Event not found.")}},{key:"findEventsByDate",value:function(e){var t=new Date(e);t=t.toDateString(),console.log("Searching by date...");var n=[];return o.allEvents.forEach((function(e){console.log(e.eventDate);var a=e.eventDate.toDateString();console.log("Comparing dates...\n        ".concat(t," | ").concat(a)),t==a&&n.push(e)})),console.log("Found: "),console.log(n),n}},{key:"findEventsbyCategory",value:function(e){var t=e;console.log("Searching by category...");var n=[];return o.allEvents.forEach((function(e){console.log(e.eventDate);var a=e.eventCategory;console.log("Comparing categories...\n        ".concat(t," | ").concat(a)),t==a&&n.push(e)})),console.log("Found: "),console.log(n),n}},{key:"addUser",value:function(e,t){new l(e,t)}},{key:"updateUser",value:function(e,t,n,a){var r=l.allUsers.find((function(n){return n[d("user",e)]==t}));-1!=r?r[n]=a:console.log("Updates failed. User not found.")}},{key:"deleteUser",value:function(e,t){var n=allUsers.findIndex((function(n){return n[d("user",e)]==t}));console.log('Deleting user...\n    Searching for: "'.concat(d("user",e),'"\n    With Value:  ').concat(t,"\n    User Found at Index: ").concat(n,"\n    User: ").concat(l.allUsers[n])),null!=n?(allUsers.splice(n,1),allUsers.slice(n).forEach((function(e){return e.id--})),l._nextId--):console.log("Deletion failed. User not found.")}}]),e}(),o=function(){function e(t,n,r,i){a(this,e),this.id=e._nextId++,this.eventName=t,this.eventDescription=n,this.eventCategory=r,this.eventDate=new Date(i),e.allEvents.push(this)}return i(e,null,[{key:"findByDate",value:function(t){var n=t.toDateString();return dateReducer=function(e,t){var a=t.eventDate.toDateString();n==a&&e.push(t)},e.allEvents.filter(dateReducer,[])}},{key:"findByCategory",value:function(t){var n=t;return catReducer=function(e,t){t.eventCategory,n==compCat2&&e.push(t)},e.allEvents.filter(catReducer,[])}}]),e}();n(o,"allEvents",[]),n(o,"_nextId",100);var l=function(){function e(t,n){a(this,e),this.id=e._nextId++,this.userName=t,this.userPassword=n,this.userDateJoined=new Date,this.userFavorites=[],this.id%2==0?this.avatar='<img src="graphics/defaultavatar2.png" class="userAvatar">':this.avatar='<img src="graphics/defaultavatar1.png" class="userAvatar">',e.allUsers.push(this)}return i(e,[{key:"toggleFavorite",value:function(e){this.userFavorites.includes(e)?this.userFavorites.splice(this.userFavorites.indexOf(e),1):this.userFavorites.push(e)}}]),e}();n(l,"allUsers",[]),n(l,"_nextId",200);var u=new s;u.addEvent("Pet Festival","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent laoreet dapibus tincidunt. Aliquam eu tempus erat. Proin id dui laoreet, semper massa ut, elementum arcu. Duis convallis neque nunc, gravida iaculis metus ornare quis. Donec et nisi nec leo sagittis tempus. Aenean pulvinar lacus a nulla vestibulum gravida. Aliquam ut imperdiet lacus. Curabitur dignissim enim massa, vel dignissim nisl gravida id. Quisque felis lacus, elementum eu eleifend a, auctor eget purus. Vestibulum a consequat nisl. Nam odio dolor, tincidunt eget blandit ut, pellentesque quis magna. Nam gravida ligula nunc, et cursus risus convallis ac. Nulla viverra pellentesque mauris at elementum. Mauris cursus, quam vel gravida euismod, enim diam porta tellus, consectetur gravida est risus id lacus. Nulla porttitor at orci sed placerat. Vestibulum malesuada, purus vitae placerat ultrices, nunc metus porta urna, non ornare nibh est elementum elit.","Charity Fundraiser","6-29-2021"),u.addEvent("Lizzo Concert","Nulla quam sem, rutrum et tempus eget, varius ut odio. Quisque eu mi ut ligula congue maximus sit amet eget felis. Maecenas sit amet aliquam purus. Pellentesque augue turpis, venenatis a diam eget, auctor vulputate libero. Duis hendrerit leo sed lorem sodales, a imperdiet massa aliquam. Etiam vehicula sodales orci vestibulum porta. Donec ut nisl eros. Nunc ac luctus felis, pulvinar tincidunt sem. Curabitur feugiat metus libero, eu aliquet eros convallis ut.","concert","4-1-2021"),u.addEvent("Tech Art Show","Aenean auctor, felis in interdum tincidunt, enim mauris consectetur metus, non dapibus turpis odio vel purus. Praesent ligula diam, efficitur id lectus at, varius rhoncus felis. Praesent aliquet leo ac vehicula tristique. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Phasellus nec orci felis. Donec rhoncus a purus at condimentum. In venenatis maximus metus non sagittis.","Gallery","4-12-2021"),u.addUser("Blue","bananas123"),l.allUsers[0].userFavorites=[o.allEvents[0],o.allEvents[2]],u.addUser("Jitterbug19","lolbutts"),l.allUsers[1].userFavorites=[o.allEvents[1],o.allEvents[2]],u.addUser("TechfaceMcGee","asdfghjkl"),l.allUsers[2].userFavorites=[o.allEvents[0]];var c=l.allUsers[0];function d(e,t){var n=e;switch(t){case"id":n="id";break;case"name":n+="Name"}return n}function v(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]}function m(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]}function f(e,t){var n=document.createElement("tr");n.setAttribute("class","eventListItem"),t.appendChild(n);var a=document.createElement("td"),r=e.eventDate;a.setAttribute("class","date"),a.setAttribute("headers","th-date"),a.innerHTML='<h4 class="eventDay">'.concat(v(r),'</h4>\n  <h4 class="eventDate">').concat(r.getDate(),'</h4>\n  <h4 class="eventMonth">').concat(m(r),"</h4>"),n.appendChild(a);var i=document.createElement("td");i.setAttribute("class","description"),i.setAttribute("headers","th-description"),i.innerHTML='<h4 class="eventName">'.concat(e.eventName,'</h4>\n  <p class="eventDescription">').concat(e.eventDescription,"</p>"),n.appendChild(i);var s=document.createElement("td");s.setAttribute("class","category"),s.setAttribute("headers","th-category"),s.innerHTML="".concat(e.eventCategory),n.appendChild(s);var o=document.createElement("td");o.setAttribute("class","fave"),o.setAttribute("headers","th-fave"),c.userFavorites.includes(e)?o.innerHTML='<img src="graphics/favorite.png" class="Fave" onclick="loggedIn.toggleFavorite(\''.concat(e,"')\">"):o.innerHTML='<img src="graphics/notfavorite.png" class="notFave" onclick="loggedIn.toggleFavorite(\''.concat(e,"')\">"),n.appendChild(o)}function g(){console.log("Getting event submission...");var t=document.getElementById("eventSubmission").elements;eventList=document.getElementById("eventTable").tBodies.namedItem("eventList");var n,a=new Object,r=e(t);try{for(r.s();!(n=r.n()).done;)item=n.value,console.log("".concat(item.id)),console.log("".concat(item)),console.log("".concat(item.value)),"".concat(item.id).includes("Date")?a.date="".concat(item.value):"".concat(item.id).includes("Name")?a.name="".concat(item.value):"".concat(item.id).includes("Description")?a.description="".concat(item.value):"".concat(item.id).includes("Category")?a.category="".concat(item.value):console.log("Value not registered")}catch(e){r.e(e)}finally{r.f()}console.log(a),f(u.addEvent(a.name,a.description,a.category,a.date),eventList)}function h(e,t){console.log("Initializing User..."),console.log(e);var n=document.createElement("tr");n.setAttribute("class","userListItem"),console.log(t),t.appendChild(n);var a=document.createElement("td");a.setAttribute("class","userid"),a.setAttribute("headers","th-userid"),a.innerHTML="".concat(e.id),n.appendChild(a);var r=document.createElement("td");r.setAttribute("class","profile"),r.setAttribute("headers","th-profile"),r.innerHTML="<profilepic>".concat(e.avatar,'</profilepic>\n                        <h4 class="userName">').concat(e.userName,"</h4>"),n.appendChild(r);var i=document.createElement("td"),s=e.userDateJoined;i.setAttribute("class","date"),i.setAttribute("headers","th-date"),i.innerHTML='<h4 class="eventDay">'.concat(v(s),'</h4>\n  <h4 class="eventDate">').concat(s.getDate(),'</h4>\n  <h4 class="eventMonth">').concat(m(s),'</h4>\n  <h4 class="eventMonth">').concat(s.getFullYear(),"</h4>"),n.appendChild(i),console.log("Adding User Favorites..."),console.log(o.allEvents);var l=document.createElement("td");l.setAttribute("class","faveEvents"),l.setAttribute("headers","th-fave");var u=document.createElement("ul");u.setAttribute("class","listOfFaves"),e.userFavorites.forEach((function(e){var t="".concat(e.eventName),n=document.createElement("li");n.innerHTML="".concat(t),u.appendChild(n)})),l.appendChild(u),n.appendChild(l)}window.addEventListener("DOMContentLoaded",(function(){switch(document.title){case"Eventonica Event Board":!function(){eventList=document.getElementById("eventTable").tBodies.namedItem("eventList"),console.log("Loading event list..."),console.log(eventList);var t,n=e(o.allEvents);try{for(n.s();!(t=n.n()).done;)item=t.value,f(item,eventList)}catch(e){n.e(e)}finally{n.f()}}();break;case"Eventonica Users":!function(){userList=document.getElementById("userTable").tBodies.namedItem("userList");var t,n=e(l.allUsers);try{for(n.s();!(t=n.n()).done;)item=t.value,h(item,userList)}catch(e){n.e(e)}finally{n.f()}}();break;default:console.log("ERROR: Can't determine page.")}var t=document.getElementById("submitEvent");console.log(t),t.addEventListener("click",g)}))})();